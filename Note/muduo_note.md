C++可能出现的内存问题大致有这么几个方面:
1. 缓冲区溢出
2. 空悬指针/野指针
3. 重复释放
4. 内存泄露
5. 不配对的 new[]/delete
6. 内存碎片
使用智能指针可以解决前五个问题

shared_ptr本身的线程安全问题:
- 一个shared_ptr 可以在多个线程被同时读取
- 两个shared_ptr 对象实体可以被两个线程同时写入，“析构”算写操作
- 如果要从多个线程读写同一个shared_ptr，需要加锁
